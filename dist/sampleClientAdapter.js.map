{"version":3,"sources":["../src/sampleClientAdapter.js"],"names":[],"mappings":";;AAAA;;AAEA,IAAM,kBAAkB,kBAAxB;AACA,IAAM,WAAW,YAAjB;;AAEA,IAAM,UAAU,uCAAqB,2CAArB,EAAkE,QAAlE,EAA4E,eAA5E,CAAhB;AACA,IAAM,SAAS,cAAc,KAAK,KAAL,CAAW,KAAK,MAAL,KAAc,MAAzB,CAA7B;;AAEA,SAAS,QAAT,GAAoB;AAChB;;AACA,WAAO,QAAQ,6BAAR,CAAsC,EAAC,OAAO,YAAR,EAAtC,EAA6D,IAA7D,CAAkE,UAAC,QAAD,EAAa;AAClF,gBAAQ,GAAR,CAAY,SAAS,GAAT,CAAa,UAAC,OAAD;AAAA,mBAAW,QAAQ,aAAR,CAAsB,QAAQ,EAA9B,CAAX;AAAA,SAAb,CAAZ;AACH,KAFM,CAAP;AAGH;;AAED,WACK,IADL,CACU,YAAK;AACP,YAAQ,oBAAR,CAA6B,EAAC,WAAW,MAAZ,EAAoB,UAAU,MAA9B,EAAsC,OAAO,MAA7C,EAA7B,EACK,IADL,CACU,UAAC,cAAD,EAAmB;AACrB,gBAAQ,GAAR,CAAY,iBAAZ,EAA+B,eAAe,EAA9C;AACA,gBAAQ,eAAR,CAAwB,eAAe,EAAvC,EACK,IADL,CACU,UAAC,OAAD,EAAY;AACd,oBAAQ,GAAR,CAAY,mBAAZ,EAAiC,KAAK,SAAL,CAAe,OAAf,CAAjC;;AAEA,oBAAQ,SAAR,GAAoB,OAApB;AACA,oBAAQ,QAAR,GAAmB,MAAnB;;AAEA,oBAAQ,aAAR,CAAsB,OAAtB,EACK,IADL,CACU,UAAC,cAAD,EAAmB;AACrB,wBAAQ,GAAR,CAAY,iBAAZ,EAA+B,cAA/B;AACA,wBAAQ,2BAAR,CAAoC,YAApC,EACK,IADL,CACU,UAAC,QAAD,EAAa;AACf,4BAAQ,GAAR,CAAY,UAAZ,EAAwB,WAAW,SAAS,GAAT,CAAa;AAAA,+BAAS,KAAK,SAAL,CAAe,OAAf,CAAT;AAAA,qBAAb,CAAX,GAA4D,UAApF;AACA,wBAAI,QAAJ,EAAc;;;;AAIb;AACJ,iBARL,EASK,KATL,CASW,UAAC,GAAD;AAAA,2BAAQ,QAAQ,KAAR,CAAc,GAAd,CAAR;AAAA,iBATX;AAUH,aAbL,EAcK,KAdL,CAcW,UAAC,GAAD;AAAA,uBAAQ,QAAQ,KAAR,CAAc,GAAd,CAAR;AAAA,aAdX;AAgBH,SAvBL,EAwBK,KAxBL,CAwBW,UAAC,GAAD;AAAA,mBAAQ,QAAQ,KAAR,CAAc,GAAd,CAAR;AAAA,SAxBX;AAyBH,KA5BL,EA6BK,KA7BL,CA6BW,UAAC,GAAD;AAAA,eAAQ,QAAQ,KAAR,CAAc,GAAd,CAAR;AAAA,KA7BX;AA8BH,CAhCL","file":"sampleClientAdapter.js","sourcesContent":["import {VTigerCrmAdapter} from './VTigerCrmAdapter.js';\r\n\r\nconst USER_ACCESS_KEY = 'JkDMwItdgLaQGQdI';\r\nconst USERNAME = 'reisebuddy';\r\n\r\nconst adapter = new VTigerCrmAdapter('http://localhost/vtigercrm/webservice.php', USERNAME, USER_ACCESS_KEY);\r\nconst random = 'unittest_' + Math.floor(Math.random()*100000);\r\n\r\nfunction teardown() {\r\n    \"use strict\";\r\n    return adapter.findContactsBySkeletonPromise({email: 'unittest_%'}).then((contacts)=> {\r\n        Promise.all(contacts.map((contact)=>adapter.deletePromise(contact.id)));\r\n    })\r\n}\r\n\r\nteardown()\r\n    .then(()=> {\r\n        adapter.createContactPromise({firstname: random, lastname: random, email: random})\r\n            .then((createdContact)=> {\r\n                console.log('CREATED_CONTACT', createdContact.id);\r\n                adapter.retrievePromise(createdContact.id)\r\n                    .then((contact)=> {\r\n                        console.log('RETRIEVED_CONTACT', JSON.stringify(contact));\r\n\r\n                        contact.firstname = 'James';\r\n                        contact.lastname = 'Bond';\r\n\r\n                        adapter.updatePromise(contact)\r\n                            .then((updatedContact)=> {\r\n                                console.log('UPDATED_CONTACT', updatedContact);\r\n                                adapter.findContactsFulltextPromise('unittest_%')\r\n                                    .then((contacts)=> {\r\n                                        console.log('CONTACTS', contacts ? contacts.map(contact=>JSON.stringify(contact)) : '<none />');\r\n                                        if (contacts) {\r\n                                            // adapter.deletePromise(contacts[0].id)\r\n                                            //     .then(()=>console.log('DELETED_CONTACT'))\r\n                                            //     .catch((err)=>console.log(err));\r\n                                        }\r\n                                    })\r\n                                    .catch((err)=> console.error(err));\r\n                            })\r\n                            .catch((err)=> console.error(err));\r\n\r\n                    })\r\n                    .catch((err)=> console.error(err));\r\n            })\r\n            .catch((err)=> console.error(err));\r\n    });"]}